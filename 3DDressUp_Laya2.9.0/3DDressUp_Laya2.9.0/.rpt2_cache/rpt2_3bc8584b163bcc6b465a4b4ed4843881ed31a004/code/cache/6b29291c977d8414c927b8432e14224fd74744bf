{
  "code": "import { Admin, _SceneName } from \"./Lwg\";\r\nexport var _MakeClothes;\r\n(function (_MakeClothes) {\r\n    class Scissor extends Admin._Object {\r\n    }\r\n    _MakeClothes.Scissor = Scissor;\r\n    class MakeClothes extends Admin._SceneBase {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.Cutting = {\r\n                Scissor: () => {\r\n                    return this._ImgVar('Scissor');\r\n                },\r\n                touchP: new Laya.Point(),\r\n                diffP: new Laya.Point(),\r\n                EraserSp: () => {\r\n                    if (!this._ImgVar('LineParent').getChildByName('EraserSp')) {\r\n                        let Sp = new Laya.Sprite();\r\n                        Sp.name = 'EraserSp';\r\n                        Sp.blendMode = \"destination-out\";\r\n                        this._ImgVar('LineParent').addChild(Sp);\r\n                        this._ImgVar('LineParent').cacheAs = \"bitmap\";\r\n                        return Sp;\r\n                    }\r\n                    else {\r\n                        return this._ImgVar('LineParent').getChildByName('EraserSp');\r\n                    }\r\n                },\r\n                EraserSize: 60,\r\n                erasureLine: () => {\r\n                    let gPos = this.Cutting.Scissor().parent.localToGlobal(new Laya.Point(this._ImgVar('Scissor').x, this._ImgVar('Scissor').y));\r\n                    let localPos = this.Cutting.EraserSp().globalToLocal(gPos);\r\n                    this.Cutting.EraserSp().graphics.drawCircle(localPos.x, localPos.y, this.Cutting.EraserSize / 2, \"#000000\");\r\n                }\r\n            };\r\n        }\r\n        lwgBtnRegister() {\r\n            this._btnUp(this._ImgVar('BtnBack'), () => {\r\n                this._openScene(_SceneName.Start);\r\n            });\r\n            this._btnAll(this._ImgVar('Scissor'), () => {\r\n            }, () => {\r\n            }, () => {\r\n            }, () => {\r\n            });\r\n        }\r\n        onStageMouseDown(e) {\r\n            this.Cutting.touchP = new Laya.Point(e.stageX, e.stageY);\r\n        }\r\n        onStageMouseMove(e) {\r\n            if (this.Cutting.touchP) {\r\n                this.Cutting.diffP.x = e.stageX - this.Cutting.touchP.x;\r\n                this.Cutting.diffP.y = e.stageY - this.Cutting.touchP.y;\r\n                this.Cutting.Scissor().x += this.Cutting.diffP.x;\r\n                this.Cutting.Scissor().y += this.Cutting.diffP.y;\r\n                this.Cutting.erasureLine();\r\n                this.Cutting.touchP = new Laya.Point(e.stageX, e.stageY);\r\n            }\r\n        }\r\n        onStageMouseUp() {\r\n            this.Cutting.touchP = null;\r\n        }\r\n    }\r\n    _MakeClothes.MakeClothes = MakeClothes;\r\n})(_MakeClothes || (_MakeClothes = {}));\r\n",
  "references": [
    "D:/Game/project/3DDressUp/Project_Laya2.9.0/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/Lwg.ts"
  ]
}
